<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="VS Code" />
    <title>Loop</title>
    <link rel="stylesheet" href="../code/styles.css" />
    <script src="../code/scripts.js" defer></script>
  </head>
  <body>
    <div class="container">
      <aside>
        <nav>
          <button class="btn" data-menu-btn>Menu</button>
          <ul>
            <li><a href="../index.html">Introduction</a></li>
            <li><a href="installation.html">Installation &amp; Setup</a></li>
            <li>
              <details>
                <summary>Configuration</summary>
                <ul>
                  <li>
                    <a href="configuration.html">Basic Configuration</a>
                  </li>
                  <li><a href="multiplelogins.html">Multiple Logins</a></li>
                  <li>
                    <a href="completeoptions.html">Complete Options</a>
                  </li>
                </ul>
              </details>
            </li>
            <li>
              <details>
                <summary>Tutorials</summary>
                <ul>
                  <li><a href="firststeps.html">First Steps</a></li>
                  <li><a href="themenu.html">The Menu</a></li>
                  <li><a href="theloop.html">The Loop</a></li>
                  <li><a href="backups.html">Backups</a></li>
                  <li>
                    <a href="whitelabeledversion.html">White Labeled Version</a>
                  </li>
                </ul>
              </details>
            </li>
            <li>
              <details open>
                <summary class="current">Elements</summary>
                <ul>
                  <li><a href="elementsoverview.html">Elements Overview</a></li>
                  <li><a href="initcode.html">Init Code</a></li>
                  <li><a href="logonbutton.html">Logon Button</a></li>
                  <li><a href="shorttext.html">Short Text</a></li>
                  <li><a href="longtext.html">Long Text</a></li>
                  <li><a href="richtext.html">Rich Text</a></li>
                  <li><a href="markuptext.html">Markup Text</a></li>
                  <li><a href="image.html">Image</a></li>
                  <li><a href="gallery.html">Image Gallery</a></li>
                  <li><a href="attachment.html">Attachment</a></li>
                  <li><a href="menu.html">Menu</a></li>
                  <li><a href="loop.html" class="current">Loop</a></li>
                  <li><a href="readmore.html">Read More</a></li>
                </ul>
              </details>
            </li>
          </ul>
        </nav>
        <div>
          <a
            class="btn"
            href="https://github.com/maxfancourt/WebYep/archive/refs/heads/master.zip"
            target="_blank"
            >Download WebYep</a
          >
          <a
            class="btn"
            href="https://github.com/maxfancourt/WebYep"
            target="_blank"
            >GitHub Project Page</a
          >
          <button class="btn" data-print-btn>Print / PDF This Page</button>
        </div>
      </aside>
      <main>
        <h1><strong>Loop</strong> element</h1>
        <p>
          <strong
            >To repeat a block of HTML content or WebYep elements in a page you
            can use the powerful Loop element.</strong
          >
          The user can define the number and order of the blocks, which can
          contain any HTML, Javascript or PHP content like static text, images
          or any WebYep elements. Of course, the content of the repeated WebYep
          elements will be different for every repetition.
        </p>
        <p>
          The Loop element is actually split into two elements. A Loop Start
          element that defines the start of the loop, and a Loop End element
          that closes the loop. The HTML content or WebYep elements sandwiched
          between these two elements form the repeating content. The Loop
          element has only two arguments, highlighted red and detailed below.
        </p>
        <h3>The Loop element code</h3>
        <pre>&lt;?php foreach ((new WYLoopElement())-&gt;aLoopIDs("<span style="color:red">Fieldname</span>") as $webyep_oCurrentLoop-&gt;iLoopID) { $loopid=$webyep_oCurrentLoop-&gt;iLoopID; $_SESSION["loopid"]=$loopid; $webyep_oCurrentLoop-&gt;loopStart(<span style="color:red">true</span>,$webyep_oCurrentLoop-&gt;iLoopID); // WebYepV2 ?&gt;</pre>
        <pre>
&lt;?php $webyep_oCurrentLoop-&gt;loopEnd(); } unset($_SESSION["loopid"]); // WebYepV2 ?&gt;</pre
        >
        <h3>Arguments for the function call</h3>
        <ol>
          <li>
            <strong>"Fieldname":</strong> A string - the field name for this
            element.<br />Arguments for the loopStart() PHP function call:
          </li>
          <li>
            <strong>true/false:</strong> A boolean - whether the loop control
            buttons should be inserted automatically. <br /><strong
              >true</strong
            >
            if the loop controls should be inserted automatically at the top of
            each block.<br />
            <strong>false</strong> No buttons shown. You need to use some PHP
            code to insert these control buttons manually - see 'automatic
            controls' below.
          </li>
        </ol>
        <h3>Screenshots</h3>
        <figure>
          <img
            src="../images/loop-example.png"
            alt="An example showing how the Loop element could be used to create a simple events calendar, comprising of Short Text and Long Text elements for each event listing."
          />
          <figcaption>
            An example showing how the Loop element could be used to create a
            simple events calendar, comprising of Short Text and Long Text
            elements for each event listing.
          </figcaption>
        </figure>
        <h3>Using the Loop element</h3>
        <p>
          To use the Loop element, create some content in the page that is to be
          repeated. Insert a Loop Start before this content and a Loop End after
          that content.
        </p>
        <h3>Loop not working?</h3>
        <p>
          Occasionally the loop may not work in some configurations. In earlier
          versions of WebYep, it was suggested that this code gets placed after
          the opening <code>&lt;body&gt;</code> tag in the page:
        </p>
        <pre>&lt;?php unset($_SESSION["loopid"]); ?&gt;</pre>
        <p>
          This may still work to help resolve problems of the loop not working,
          within certain situations.
        </p>
        <h3>Exact positioning the Loop element is important</h3>
        <p>
          When repeating content in your page, it is important to make sure the
          resulting HTML code is valid. Repeating a <code>&lt;p&gt;</code> tag
          without the closing <code>&lt;/p&gt;</code> tag for example would
          result in invalid HTML. Bad code can quickly cause a page to break.
        </p>
        <p>
          In the rare cases when the result of a loop seams wrong, it is a good
          idea to check the validity of the resulting HTML code. Simply open the
          page in a browser, go to WebYep edit mode and create some loop blocks.
          Then leave edit mode and take a look at the resulting HTML code by
          viewing the source code directly in the browser. Maybe also copy the
          HTML code and paste it into an empty document and then check the HTML
          code thats been created.
        </p>

        <h3>Attributes of the Loop element</h3>
        <h4>Fieldname</h4>
        <p>
          A distinctive name for that element. This name will be used to
          distinguish the Loop from other WebYep elements in a page.
        </p>
        <p>
          If you need more than one Loop element on a page, you have to make
          sure that the WebYep elements inside the two loops do not share the
          same names. Use different names for all WebYep elements in all Loops
          of the page.
        </p>
        <h4>Automatic controls</h4>
        <p>
          The loop controls are usually placed automatically at the top of each
          loop block, right where the Loop Start is positioned. In some
          situations this is not appropriate, as the Loop Start might be in a
          place where no content (like the loop control button icons) is
          allowed, like between a <code>&lt;table&gt;</code> tag and a
          <code>&lt;tr&gt;</code> tag.
        </p>
        <p>
          In theses cases you should set the 'automatic controls' attribute to
          false in the Start Loop code. Then place the controls 'by hand', by
          inserting the following piece of PHP code, where you want the controls
          shown:
        </p>
        <pre>
&lt;?php $webyep_oCurrentLoop-&gt;showEditButtons(); // WebYepV1 ?&gt;</pre
        >
      </main>
    </div>
  </body>
</html>
